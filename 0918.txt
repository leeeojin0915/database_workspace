SQL> conn user0907/1234
Connected.
SQL> show user
USER is "USER0907"
SQL> --오라클에서도 유용한 기능을 사용하기 위한 함수를 지원
SQL> --이미 내부적으로 정의되어 잇음..(숫자관련, 변환함수, 날짜관련,문자관련,null관련)
SQL> --abs(n) : 인수로 전달된 n에 대한 절대값 반환
SQL> select -5 from dual;

        -5                                                                      
----------                                                                      
        -5                                                                      

SQL> --dual 이란? 그냥 컬럼1개와 레코드 1개로 이루어진 의미없는 dummy table
SQL> --왜 사용하나? 출력결과를 1개의 레코드로 보고싶을 때
SQL> select sysdate from dual;

SYSDATE                                                                         
--------                                                                        
20/09/18                                                                        

SQL> desc dual;
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 DUMMY                                              VARCHAR2(1)

SQL> select *from dual;

DU                                                                              
--                                                                              
X                                                                               

SQL> --음수롤 제거하고 출력
SQL> select abs(5-9) from daul;
select abs(5-9) from daul
                     *
ERROR at line 1:
ORA-00942: table or view does not exist 


SQL> select abs(5-9) from dual;

  ABS(5-9)                                                                      
----------                                                                      
         4                                                                      

SQL> select abs(5-9) as 절대값 from dual;

    절대값                                                                      
----------                                                                      
         4                                                                      

SQL> --ceil(n) : 실수 n보다 큰 정수
SQL> --floor(n) : 실수 n보다 작은 정수
SQL> select ceil(2.2)from dual;

 CEIL(2.2)                                                                      
----------                                                                      
         3                                                                      

SQL> select floor(2.2)from dual;

FLOOR(2.2)                                                                      
----------                                                                      
         2                                                                      

SQL> --mod(a,b) : a를 b로 나눈 나머지를 반환
SQL> --일반적인 프로그래밍 언어에서는 %연산자와 동일
SQL> select mod(5,3) as 나머지 from dual;

    나머지                                                                      
----------                                                                      
         2                                                                      

SQL> --변환함수
SQL> --to_char(문자 or 날짜, 원하는 형식)
SQL> select*from emp;

     EMPNO ENAME                JOB                       MGR HIREDATE          
---------- -------------------- ------------------ ---------- --------          
       SAL       COMM     DEPTNO                                                
---------- ---------- ----------                                                
      7369 SMITH                CLERK                    7902 80/12/17          
       800                    20                                                
                                                                                
      7499 ALLEN                SALESMAN                 7698 81/02/20          
      1600        300         30                                                
                                                                                
      7521 WARD                 SALESMAN                 7698 81/02/22          
      1250        500         30                                                
                                                                                

     EMPNO ENAME                JOB                       MGR HIREDATE          
---------- -------------------- ------------------ ---------- --------          
       SAL       COMM     DEPTNO                                                
---------- ---------- ----------                                                
      7566 JONES                MANAGER                  7839 81/04/02          
      2975                    20                                                
                                                                                
      7654 MARTIN               SALESMAN                 7698 81/09/28          
      1250       1400         30                                                
                                                                                
      7698 BLAKE                MANAGER                  7839 81/05/01          
      2850                    30                                                
                                                                                

     EMPNO ENAME                JOB                       MGR HIREDATE          
---------- -------------------- ------------------ ---------- --------          
       SAL       COMM     DEPTNO                                                
---------- ---------- ----------                                                
      7782 CLARK                MANAGER                  7839 81/06/09          
      2450                    10                                                
                                                                                
      7788 SCOTT                ANALYST                  7566 87/04/19          
      3000                    20                                                
                                                                                
      7839 KING                 PRESIDENT                     81/11/17          
      5000                    10                                                
                                                                                

     EMPNO ENAME                JOB                       MGR HIREDATE          
---------- -------------------- ------------------ ---------- --------          
       SAL       COMM     DEPTNO                                                
---------- ---------- ----------                                                
      7844 TURNER               SALESMAN                 7698 81/09/08          
      1500          0         30                                                
                                                                                
      7876 ADAMS                CLERK                    7788 87/05/23          
      1100                    20                                                
                                                                                
      7900 JAMES                CLERK                    7698 81/12/03          
       950                    30                                                
                                                                                

     EMPNO ENAME                JOB                       MGR HIREDATE          
---------- -------------------- ------------------ ---------- --------          
       SAL       COMM     DEPTNO                                                
---------- ---------- ----------                                                
      7902 FORD                 ANALYST                  7566 81/12/03          
      3000                    20                                                
                                                                                
      7934 MILLER               CLERK                    7782 82/01/23          
      1300                    10                                                
                                                                                

14 rows selected.

SQL> set line 200
SQL> select *from emp;

     EMPNO ENAME                JOB                       MGR HIREDATE        SAL       COMM     DEPTNO                                                                                                 
---------- -------------------- ------------------ ---------- -------- ---------- ---------- ----------                                                                                                 
      7369 SMITH                CLERK                    7902 80/12/17        800                    20                                                                                                 
      7499 ALLEN                SALESMAN                 7698 81/02/20       1600        300         30                                                                                                 
      7521 WARD                 SALESMAN                 7698 81/02/22       1250        500         30                                                                                                 
      7566 JONES                MANAGER                  7839 81/04/02       2975                    20                                                                                                 
      7654 MARTIN               SALESMAN                 7698 81/09/28       1250       1400         30                                                                                                 
      7698 BLAKE                MANAGER                  7839 81/05/01       2850                    30                                                                                                 
      7782 CLARK                MANAGER                  7839 81/06/09       2450                    10                                                                                                 
      7788 SCOTT                ANALYST                  7566 87/04/19       3000                    20                                                                                                 
      7839 KING                 PRESIDENT                     81/11/17       5000                    10                                                                                                 
      7844 TURNER               SALESMAN                 7698 81/09/08       1500          0         30                                                                                                 
      7876 ADAMS                CLERK                    7788 87/05/23       1100                    20                                                                                                 

     EMPNO ENAME                JOB                       MGR HIREDATE        SAL       COMM     DEPTNO                                                                                                 
---------- -------------------- ------------------ ---------- -------- ---------- ---------- ----------                                                                                                 
      7900 JAMES                CLERK                    7698 81/12/03        950                    30                                                                                                 
      7902 FORD                 ANALYST                  7566 81/12/03       3000                    20                                                                                                 
      7934 MILLER               CLERK                    7782 82/01/23       1300                    10                                                                                                 

14 rows selected.

SQL> set pagesize 20
SQL> /

     EMPNO ENAME                JOB                       MGR HIREDATE        SAL       COMM     DEPTNO                                                                                                 
---------- -------------------- ------------------ ---------- -------- ---------- ---------- ----------                                                                                                 
      7369 SMITH                CLERK                    7902 80/12/17        800                    20                                                                                                 
      7499 ALLEN                SALESMAN                 7698 81/02/20       1600        300         30                                                                                                 
      7521 WARD                 SALESMAN                 7698 81/02/22       1250        500         30                                                                                                 
      7566 JONES                MANAGER                  7839 81/04/02       2975                    20                                                                                                 
      7654 MARTIN               SALESMAN                 7698 81/09/28       1250       1400         30                                                                                                 
      7698 BLAKE                MANAGER                  7839 81/05/01       2850                    30                                                                                                 
      7782 CLARK                MANAGER                  7839 81/06/09       2450                    10                                                                                                 
      7788 SCOTT                ANALYST                  7566 87/04/19       3000                    20                                                                                                 
      7839 KING                 PRESIDENT                     81/11/17       5000                    10                                                                                                 
      7844 TURNER               SALESMAN                 7698 81/09/08       1500          0         30                                                                                                 
      7876 ADAMS                CLERK                    7788 87/05/23       1100                    20                                                                                                 
      7900 JAMES                CLERK                    7698 81/12/03        950                    30                                                                                                 
      7902 FORD                 ANALYST                  7566 81/12/03       3000                    20                                                                                                 
      7934 MILLER               CLERK                    7782 82/01/23       1300                    10                                                                                                 

14 rows selected.

SQL> select hiredate from emp;

HIREDATE                                                                                                                                                                                                
--------                                                                                                                                                                                                
80/12/17                                                                                                                                                                                                
81/02/20                                                                                                                                                                                                
81/02/22                                                                                                                                                                                                
81/04/02                                                                                                                                                                                                
81/09/28                                                                                                                                                                                                
81/05/01                                                                                                                                                                                                
81/06/09                                                                                                                                                                                                
87/04/19                                                                                                                                                                                                
81/11/17                                                                                                                                                                                                
81/09/08                                                                                                                                                                                                
87/05/23                                                                                                                                                                                                
81/12/03                                                                                                                                                                                                
81/12/03                                                                                                                                                                                                
82/01/23                                                                                                                                                                                                

14 rows selected.

SQL> --날짜를 대상으로 내가 원하는 포맷으로 변환하여 가져오기
SQL> select to_char(hiredate, 'yyyy-mm-dd') from emp;

TO_CHAR(HIREDATE,'YY                                                                                                                                                                                    
--------------------                                                                                                                                                                                    
1980-12-17                                                                                                                                                                                              
1981-02-20                                                                                                                                                                                              
1981-02-22                                                                                                                                                                                              
1981-04-02                                                                                                                                                                                              
1981-09-28                                                                                                                                                                                              
1981-05-01                                                                                                                                                                                              
1981-06-09                                                                                                                                                                                              
1987-04-19                                                                                                                                                                                              
1981-11-17                                                                                                                                                                                              
1981-09-08                                                                                                                                                                                              
1987-05-23                                                                                                                                                                                              
1981-12-03                                                                                                                                                                                              
1981-12-03                                                                                                                                                                                              
1982-01-23                                                                                                                                                                                              

14 rows selected.

SQL> select to_char(hiredate, 'dd-mm-yyyy') from emp;

TO_CHAR(HIREDATE,'DD                                                                                                                                                                                    
--------------------                                                                                                                                                                                    
17-12-1980                                                                                                                                                                                              
20-02-1981                                                                                                                                                                                              
22-02-1981                                                                                                                                                                                              
02-04-1981                                                                                                                                                                                              
28-09-1981                                                                                                                                                                                              
01-05-1981                                                                                                                                                                                              
09-06-1981                                                                                                                                                                                              
19-04-1987                                                                                                                                                                                              
17-11-1981                                                                                                                                                                                              
08-09-1981                                                                                                                                                                                              
23-05-1987                                                                                                                                                                                              
03-12-1981                                                                                                                                                                                              
03-12-1981                                                                                                                                                                                              
23-01-1982                                                                                                                                                                                              

14 rows selected.

SQL> -- to_number(date,원하는형식) : date를 원하는 형식으로 변환
SQL> -- to_date(날짜형문자,원하는형식) : 지정한 문자열을 날짜로 변환
SQL> -- [3.문자관련함수]
SQL> --lower,upper : 대소문자로 변환하는 함수
SQL> select ename from emp;

ENAME                                                                                                                                                                                                   
--------------------                                                                                                                                                                                    
SMITH                                                                                                                                                                                                   
ALLEN                                                                                                                                                                                                   
WARD                                                                                                                                                                                                    
JONES                                                                                                                                                                                                   
MARTIN                                                                                                                                                                                                  
BLAKE                                                                                                                                                                                                   
CLARK                                                                                                                                                                                                   
SCOTT                                                                                                                                                                                                   
KING                                                                                                                                                                                                    
TURNER                                                                                                                                                                                                  
ADAMS                                                                                                                                                                                                   
JAMES                                                                                                                                                                                                   
FORD                                                                                                                                                                                                    
MILLER                                                                                                                                                                                                  

14 rows selected.

SQL> select lower(ename) from emp;

LOWER(ENAME)                                                                                                                                                                                            
--------------------                                                                                                                                                                                    
smith                                                                                                                                                                                                   
allen                                                                                                                                                                                                   
ward                                                                                                                                                                                                    
jones                                                                                                                                                                                                   
martin                                                                                                                                                                                                  
blake                                                                                                                                                                                                   
clark                                                                                                                                                                                                   
scott                                                                                                                                                                                                   
king                                                                                                                                                                                                    
turner                                                                                                                                                                                                  
adams                                                                                                                                                                                                   
james                                                                                                                                                                                                   
ford                                                                                                                                                                                                    
miller                                                                                                                                                                                                  

14 rows selected.

SQL> select upper(ename) from emp;

UPPER(ENAME)                                                                                                                                                                                            
--------------------                                                                                                                                                                                    
SMITH                                                                                                                                                                                                   
ALLEN                                                                                                                                                                                                   
WARD                                                                                                                                                                                                    
JONES                                                                                                                                                                                                   
MARTIN                                                                                                                                                                                                  
BLAKE                                                                                                                                                                                                   
CLARK                                                                                                                                                                                                   
SCOTT                                                                                                                                                                                                   
KING                                                                                                                                                                                                    
TURNER                                                                                                                                                                                                  
ADAMS                                                                                                                                                                                                   
JAMES                                                                                                                                                                                                   
FORD                                                                                                                                                                                                    
MILLER                                                                                                                                                                                                  

14 rows selected.

SQL> -- concat(a,b) : a와 b를 연결하여 반환 , 프로그래밍 언어에서는 +연산자로 처리하지만 오라클을
SQL> -- +연산자가 지원되지 않는다. +를 숫자의 연산자로만 생각함
SQL> select concat('내이름은', ename)from emp;

CONCAT('내이름은',ENAME)                                                                                                                                                                                
--------------------------------------------                                                                                                                                                            
내이름은SMITH                                                                                                                                                                                           
내이름은ALLEN                                                                                                                                                                                           
내이름은WARD                                                                                                                                                                                            
내이름은JONES                                                                                                                                                                                           
내이름은MARTIN                                                                                                                                                                                          
내이름은BLAKE                                                                                                                                                                                           
내이름은CLARK                                                                                                                                                                                           
내이름은SCOTT                                                                                                                                                                                           
내이름은KING                                                                                                                                                                                            
내이름은TURNER                                                                                                                                                                                          
내이름은ADAMS                                                                                                                                                                                           
내이름은JAMES                                                                                                                                                                                           
내이름은FORD                                                                                                                                                                                            
내이름은MILLER                                                                                                                                                                                          

14 rows selected.

SQL> concat('내 이름은',ename,'입니다');
SP2-0734: unknown command beginning "concat('내..." - rest of line ignored.
SQL> concat(ename,'입니다.');
SP2-0734: unknown command beginning "concat(ena..." - rest of line ignored.
SQL> select concat(concat('내 이름은',ename),'입니다')from emp;

CONCAT(CONCAT('내이름은',ENAME),'입니다')                                                                                                                                                               
----------------------------------------------------------------                                                                                                                                        
내 이름은SMITH입니다                                                                                                                                                                                    
내 이름은ALLEN입니다                                                                                                                                                                                    
내 이름은WARD입니다                                                                                                                                                                                     
내 이름은JONES입니다                                                                                                                                                                                    
내 이름은MARTIN입니다                                                                                                                                                                                   
내 이름은BLAKE입니다                                                                                                                                                                                    
내 이름은CLARK입니다                                                                                                                                                                                    
내 이름은SCOTT입니다                                                                                                                                                                                    
내 이름은KING입니다                                                                                                                                                                                     
내 이름은TURNER입니다                                                                                                                                                                                   
내 이름은ADAMS입니다                                                                                                                                                                                    
내 이름은JAMES입니다                                                                                                                                                                                    
내 이름은FORD입니다                                                                                                                                                                                     
내 이름은MILLER입니다                                                                                                                                                                                   

14 rows selected.

SQL> --substr : sub하위의 뜻 즉, 전체문자열에 대한 일부 문자를 반환
SQL> --substr(대상문자열, 시작번째, 가져올 총 길이)
SQL> select substr(ename, 0, 2) from emp;

SUBSTR(ENAME,0,2                                                                                                                                                                                        
----------------                                                                                                                                                                                        
SM                                                                                                                                                                                                      
AL                                                                                                                                                                                                      
WA                                                                                                                                                                                                      
JO                                                                                                                                                                                                      
MA                                                                                                                                                                                                      
BL                                                                                                                                                                                                      
CL                                                                                                                                                                                                      
SC                                                                                                                                                                                                      
KI                                                                                                                                                                                                      
TU                                                                                                                                                                                                      
AD                                                                                                                                                                                                      
JA                                                                                                                                                                                                      
FO                                                                                                                                                                                                      
MI                                                                                                                                                                                                      

14 rows selected.

SQL> --length(str) : 지정한 문자열의 총 길이 반환
SQL> select ename, length(ename) from emp;

ENAME                LENGTH(ENAME)                                                                                                                                                                      
-------------------- -------------                                                                                                                                                                      
SMITH                            5                                                                                                                                                                      
ALLEN                            5                                                                                                                                                                      
WARD                             4                                                                                                                                                                      
JONES                            5                                                                                                                                                                      
MARTIN                           6                                                                                                                                                                      
BLAKE                            5                                                                                                                                                                      
CLARK                            5                                                                                                                                                                      
SCOTT                            5                                                                                                                                                                      
KING                             4                                                                                                                                                                      
TURNER                           6                                                                                                                                                                      
ADAMS                            5                                                                                                                                                                      
JAMES                            5                                                                                                                                                                      
FORD                             4                                                                                                                                                                      
MILLER                           6                                                                                                                                                                      

14 rows selected.

SQL> --사원의 이름을 가져오되, 이름의 뒷 2자리만 가져오기
SQL> select substr(ename, 5, 2) from emp;

SUBSTR(ENAME,5,2                                                                                                                                                                                        
----------------                                                                                                                                                                                        
H                                                                                                                                                                                                       
N                                                                                                                                                                                                       
                                                                                                                                                                                                        
S                                                                                                                                                                                                       
IN                                                                                                                                                                                                      
E                                                                                                                                                                                                       
K                                                                                                                                                                                                       
T                                                                                                                                                                                                       
                                                                                                                                                                                                        
ER                                                                                                                                                                                                      
S                                                                                                                                                                                                       
S                                                                                                                                                                                                       
                                                                                                                                                                                                        
ER                                                                                                                                                                                                      

14 rows selected.

SQL> select substr(ename, 7, 2) from emp;

SUBSTR(ENAME,7,2                                                                                                                                                                                        
----------------                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        
                                                                                                                                                                                                        

14 rows selected.

SQL> select substr(ename, 4, 2) from emp;

SUBSTR(ENAME,4,2                                                                                                                                                                                        
----------------                                                                                                                                                                                        
TH                                                                                                                                                                                                      
EN                                                                                                                                                                                                      
D                                                                                                                                                                                                       
ES                                                                                                                                                                                                      
TI                                                                                                                                                                                                      
KE                                                                                                                                                                                                      
RK                                                                                                                                                                                                      
TT                                                                                                                                                                                                      
G                                                                                                                                                                                                       
NE                                                                                                                                                                                                      
MS                                                                                                                                                                                                      
ES                                                                                                                                                                                                      
D                                                                                                                                                                                                       
LE                                                                                                                                                                                                      

14 rows selected.

SQL> select substr(ename, 5, 2) from emp;

SUBSTR(ENAME,5,2                                                                                                                                                                                        
----------------                                                                                                                                                                                        
H                                                                                                                                                                                                       
N                                                                                                                                                                                                       
                                                                                                                                                                                                        
S                                                                                                                                                                                                       
IN                                                                                                                                                                                                      
E                                                                                                                                                                                                       
K                                                                                                                                                                                                       
T                                                                                                                                                                                                       
                                                                                                                                                                                                        
ER                                                                                                                                                                                                      
S                                                                                                                                                                                                       
S                                                                                                                                                                                                       
                                                                                                                                                                                                        
ER                                                                                                                                                                                                      

14 rows selected.

SQL> select substr(ename,length(ename)-1,2)from emp;

SUBSTR(ENAME,LEN                                                                                                                                                                                        
----------------                                                                                                                                                                                        
TH                                                                                                                                                                                                      
EN                                                                                                                                                                                                      
RD                                                                                                                                                                                                      
ES                                                                                                                                                                                                      
IN                                                                                                                                                                                                      
KE                                                                                                                                                                                                      
RK                                                                                                                                                                                                      
TT                                                                                                                                                                                                      
NG                                                                                                                                                                                                      
ER                                                                                                                                                                                                      
MS                                                                                                                                                                                                      
ES                                                                                                                                                                                                      
RD                                                                                                                                                                                                      
ER                                                                                                                                                                                                      

14 rows selected.

SQL> select ename, substr(ename,length(ename)-1,2)from emp;

ENAME                SUBSTR(ENAME,LEN                                                                                                                                                                   
-------------------- ----------------                                                                                                                                                                   
SMITH                TH                                                                                                                                                                                 
ALLEN                EN                                                                                                                                                                                 
WARD                 RD                                                                                                                                                                                 
JONES                ES                                                                                                                                                                                 
MARTIN               IN                                                                                                                                                                                 
BLAKE                KE                                                                                                                                                                                 
CLARK                RK                                                                                                                                                                                 
SCOTT                TT                                                                                                                                                                                 
KING                 NG                                                                                                                                                                                 
TURNER               ER                                                                                                                                                                                 
ADAMS                MS                                                                                                                                                                                 
JAMES                ES                                                                                                                                                                                 
FORD                 RD                                                                                                                                                                                 
MILLER               ER                                                                                                                                                                                 

14 rows selected.

SQL> --substr 언어마다 틀리므로 잘 관찰
SQL> select ename, substr(ename,0,3) from emp;

ENAME                SUBSTR(ENAME,0,3)                                                                                                                                                                  
-------------------- ------------------------                                                                                                                                                           
SMITH                SMI                                                                                                                                                                                
ALLEN                ALL                                                                                                                                                                                
WARD                 WAR                                                                                                                                                                                
JONES                JON                                                                                                                                                                                
MARTIN               MAR                                                                                                                                                                                
BLAKE                BLA                                                                                                                                                                                
CLARK                CLA                                                                                                                                                                                
SCOTT                SCO                                                                                                                                                                                
KING                 KIN                                                                                                                                                                                
TURNER               TUR                                                                                                                                                                                
ADAMS                ADA                                                                                                                                                                                
JAMES                JAM                                                                                                                                                                                
FORD                 FOR                                                                                                                                                                                
MILLER               MIL                                                                                                                                                                                

14 rows selected.

SQL> select ename, substr(ename,1,3) from emp;

ENAME                SUBSTR(ENAME,1,3)                                                                                                                                                                  
-------------------- ------------------------                                                                                                                                                           
SMITH                SMI                                                                                                                                                                                
ALLEN                ALL                                                                                                                                                                                
WARD                 WAR                                                                                                                                                                                
JONES                JON                                                                                                                                                                                
MARTIN               MAR                                                                                                                                                                                
BLAKE                BLA                                                                                                                                                                                
CLARK                CLA                                                                                                                                                                                
SCOTT                SCO                                                                                                                                                                                
KING                 KIN                                                                                                                                                                                
TURNER               TUR                                                                                                                                                                                
ADAMS                ADA                                                                                                                                                                                
JAMES                JAM                                                                                                                                                                                
FORD                 FOR                                                                                                                                                                                
MILLER               MIL                                                                                                                                                                                

14 rows selected.

SQL> --substr(대상문자열,번째(1부터),몇자)
SQL> --번째는 1부터가 원칙이지만 만일 1보다 작은 수인 0을 넣으면 첫번째로 간주해줌
SQL> spool off
